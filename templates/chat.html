{% extends "base.html" %}

{% block content %}
<div class="h-screen flex flex-col overflow-hidden relative">
    <!-- Header with Model Dropdown -->
    <div class="absolute top-4 right-4 z-40 flex items-center gap-2" id="model-dropdown-container">
        {% include "model_dropdown.html" %}
    </div>

    <!-- Message Display Area -->
    <div id="chat-messages" class="flex-1 overflow-y-auto p-4 pt-16 space-y-4 custom-scrollbar" _="on load
           set my.scrollTop to my.scrollHeight">
        <div class="max-w-4xl mx-auto w-full">
            <div id="new-messages" class="space-y-4"
                _="on htmx:afterOnLoad wait 10ms then call my.scrollIntoView({behavior:'smooth', block:'end'})">
                {% block chat_history %}{% endblock %}
            </div>
        </div>
    </div>

    <!-- Input Area -->
    <div class="p-4 pb-4 bg-zinc-900/80 backdrop-blur-md">
        <div class="max-w-4xl mx-auto" id="chat-form-container">
            {% include "chat_input_field.html" %}
        </div>
    </div>
</div>
{% endblock %}